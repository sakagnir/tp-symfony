{% extends 'base.html.twig' %}

{% block title %}Categorie
{% endblock %}

{% block body %}
	<div class="d-flex justify-content-between align-items-center mb-3">
		<h1 class="h3">Categories</h1>
		{% if app.user and app.user.roles[0] == 'ROLE_ADMIN' %}
			<a href="{{ path('app_category_new') }}" class="btn btn-primary">Create new</a>
		{% endif %}
	</div>

	<div class="row g-3">
		{% for category in categories %}
			<div class="col-12 col-md-6 col-lg-4">
				<div class="card h-100 shadow-sm">
					<div class="card-body d-flex flex-column">
						<h5 class="card-title">{{ category.name }}</h5>
						<div class="mt-auto">
							<a href="{{ path('app_category_show', {'id': category.id}) }}" class="btn btn-sm btn-outline-secondary me-2">Show</a>
							{% if app.user and app.user.roles[0] == 'ROLE_ADMIN' %}
								<a href="{{ path('app_category_edit', {'id': category.id}) }}" class="btn btn-sm btn-warning">Edit</a>
							{% endif %}
						</div>
					</div>
				</div>
			</div>
		{% else %}
			<div class="col-12">
				<div class="alert alert-info">No categories found</div>
			</div>
		{% endfor %}
	</div>
{% endblock %}
